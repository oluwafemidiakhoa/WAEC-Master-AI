<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0f4c81" />
  <meta name="description" content="Offline-ready WAEC practice for Mathematics, English, Physics, Chemistry, and Biology." />
  <title>WAEC Practice PWA</title>
  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./icons/icon-192.png" />
  <link rel="apple-touch-icon" href="./icons/icon-192.png" />
  <link rel="stylesheet" href="./css/styles.css" />
</head>
<body>
  <main class="app">
    <header class="app__header">
      <div>
        <h1>WAEC Practice</h1>
        <p class="muted">Practice smarter, even offline — short drills and exam mode for Mathematics, English, Physics, Chemistry, and Biology.</p>
      </div>
      <div class="header__actions">
        <div id="statusPill" class="status">
          <span id="onlineStatus" class="status__dot"></span>
          <span id="statusText">Checking connection...</span>
        </div>
        <button id="installBtn" class="ghost hidden" type="button">Install App</button>
      </div>
    </header>

    <section id="about" class="card hero">
      <div class="hero__content">
        <div class="hero__text">
          <span class="badge hero__badge">Offline-first</span>
          <h2>Study daily, see your progress.</h2>
          <p class="muted">
            A fast, low-data WAEC practice app for Mathematics, English, Physics, Chemistry, and Biology.
            Drill by topic, get instant feedback, and build a daily streak.
          </p>
          <div class="hero__actions">
            <a class="primary button-link" href="#setup">Start practice</a>
            <a class="ghost button-link" href="#dashboard">View dashboard</a>
          </div>
        </div>
        <div class="hero__cards">
          <div class="hero__card">
            <h3>Instant feedback</h3>
            <p class="muted small">Explanations after every question.</p>
          </div>
          <div class="hero__card">
            <h3>Topic focus</h3>
            <p class="muted small">Filter by topic to fix weak areas faster.</p>
          </div>
          <div class="hero__card">
            <h3>Offline-ready</h3>
            <p class="muted small">Works offline once cached.</p>
          </div>
        </div>
      </div>
      <ul class="about__list">
        <li>Demo questions only — no copyrighted WAEC past questions.</li>
        <li>Works offline once cached and saves progress in localStorage.</li>
        <li>Use Practice mode for drills or Timed Exam mode for test readiness.</li>
      </ul>
    </section>

    <section id="setup" class="card">
      <h2>Start a session</h2>
      <div class="quick-start">
        <button class="chip" type="button" data-quick="practice" data-questions="10">Quick 10</button>
        <button class="chip" type="button" data-quick="practice" data-questions="20">Quick 20</button>
        <button class="chip" type="button" data-quick="timed" data-questions="30" data-minutes="30">Timed 30</button>
        <button class="chip" type="button" data-quick="timed" data-questions="40" data-minutes="45">Timed 45</button>
      </div>
      <div class="setup__stats">
        <div class="stat">
          <span class="stat__label">Streak</span>
          <span id="streakStat" class="stat__value">0 days</span>
        </div>
        <div class="stat">
          <span class="stat__label">Daily goal</span>
          <span id="goalStat" class="stat__value">0 / 20</span>
        </div>
        <div class="stat stat--input">
          <label class="stat__label" for="dailyGoalInput">Set daily goal</label>
          <input id="dailyGoalInput" type="number" min="5" max="200" value="20" />
          <span class="stat__hint muted small">Questions per day</span>
        </div>
      </div>
      <div class="grid">
        <label>
          Subject
          <select id="subjectSelect">
            <option value="mathematics">Mathematics</option>
            <option value="english">English</option>
            <option value="physics">Physics</option>
            <option value="chemistry">Chemistry</option>
            <option value="biology">Biology</option>
          </select>
        </label>

        <label>
          Mode
          <select id="modeSelect">
            <option value="practice">Practice</option>
            <option value="timed">Timed Exam</option>
          </select>
        </label>

        <label>
          Topic
          <select id="topicSelect">
            <option value="all">All topics</option>
          </select>
        </label>

        <label>
          Questions
          <input id="questionCount" type="number" min="5" max="60" value="20" />
        </label>

        <label id="timeWrap" class="hidden">
          Time (minutes)
          <input id="timeLimit" type="number" min="5" max="180" value="30" />
        </label>

        <label class="toggle">
          <span>Auto-advance</span>
          <input id="autoAdvance" type="checkbox" checked />
          <span class="toggle__slider"></span>
        </label>
      </div>

      <button id="startBtn" class="primary" type="button">Start</button>
      <p id="setupNote" class="muted small"></p>
      <p class="muted small">Questions are demo placeholders, not past WAEC items.</p>
    </section>

    <section id="quiz" class="card hidden" aria-live="polite">
      <div class="quiz__top">
        <div>
          <div id="progressText" class="muted small">Question 1 of 20</div>
          <div class="progress">
            <div id="progressBar" class="progress__bar" style="width: 0%"></div>
          </div>
        </div>
        <div class="quiz__meta">
          <span id="topicBadge" class="badge">Topic</span>
          <div id="timer" class="timer hidden">30:00</div>
        </div>
      </div>

      <h3 id="questionText">Loading...</h3>
      <p class="muted small">Tap an option to answer.</p>
      <div id="options" class="options"></div>

      <div id="explanation" class="explanation hidden">
        <div id="answerFeedback" class="feedback"></div>
        <div id="explanationText" class="muted"></div>
      </div>

      <div class="quiz__actions">
        <button id="nextBtn" class="primary" type="button">Next</button>
        <button id="finishBtn" class="ghost" type="button">Finish</button>
      </div>
    </section>

    <section id="dashboard" class="card">
      <div class="dashboard__header">
        <h2>Topic dashboard</h2>
        <p class="muted small">Track your strengths and weak areas across subjects.</p>
      </div>
      <div id="dashboardContent" class="dashboard__content"></div>
    </section>

    <section id="summary" class="card hidden">
      <h2>Session summary</h2>
      <div id="scoreSummary" class="summary__score"></div>
      <div class="summary__grid">
        <div class="summary__panel">
          <h3>Focus areas</h3>
          <div id="weakTopics" class="summary__weak"></div>
          <div id="topicBreakdown" class="summary__breakdown"></div>
        </div>
        <div class="summary__panel">
          <h3>Progress</h3>
          <div id="history" class="summary__history"></div>
          <div id="streakSummary" class="summary__streak"></div>
          <div id="goalSummary" class="summary__goal"></div>
        </div>
      </div>
      <div id="reviewActions" class="summary__actions hidden">
        <button id="reviewBtn" class="ghost" type="button">Review missed questions</button>
      </div>
      <div id="missedList" class="summary__missed"></div>
      <button id="restartBtn" class="primary" type="button">Practice again</button>
    </section>
  </main>

  <noscript>
    <p class="noscript">Please enable JavaScript to use the app.</p>
  </noscript>

  <script src="./js/app.js" defer></script>
</body>
</html>
